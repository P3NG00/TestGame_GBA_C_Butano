TODO go through each class and precalculate values where possible like offsets
